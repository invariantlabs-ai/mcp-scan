# MCP-Scan ë³´ì•ˆ ê°•í™” í”„ë¡œì íŠ¸ ğŸ”’

Model Context Protocol (MCP) ìŠ¤ìºë‹ ë„êµ¬ì˜ ë³´ì•ˆì„±ì„ ê°•í™”í•˜ëŠ” ì¢…í•©ì ì¸ ë³´ì•ˆ ê°œì„  í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì…ë ¥ ê²€ì¦, Circuit Breaker íŒ¨í„´, ê²¬ê³ í•œ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ì— ì¤‘ì ì„ ë‘ê³  ìˆìŠµë‹ˆë‹¤.

## Goal

ì´ í”„ë¡œì íŠ¸ëŠ” **MCP-Scanì˜ ì‚¬ìš©ì„±ê³¼ ì•ˆì •ì„±ì„ í¬ê²Œ ê°œì„ **í•˜ì—¬ ê°œë°œìì™€ ë³´ì•ˆ ë‹´ë‹¹ìë“¤ì´ ë” ì‰½ê³  íš¨ìœ¨ì ìœ¼ë¡œ MCP ì„œë²„ì˜ ë³´ì•ˆì„ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. 

### ğŸ¯ **í•µì‹¬ ê°œì„  ëª©í‘œ**

**1. ğŸ›¡ï¸ ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ì²˜ë¦¬**
- MCP ì„¤ì • íŒŒì¼ì˜ JSON í˜•ì‹ ì˜¤ë¥˜ë‚˜ í•„ìˆ˜ í•„ë“œ ëˆ„ë½ ì‹œ ëª…í™•í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì˜¤ë¥˜ ë©”ì‹œì§€ ì œê³µ
- ê¸°ì¡´ì˜ ë³µì¡í•œ ê¸°ìˆ ì  ì—ëŸ¬ë¥¼ ì¼ë°˜ ì‚¬ìš©ìë„ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆëŠ” ì•ˆë‚´ ë©”ì‹œì§€ë¡œ ê°œì„ 
- ì„¤ì • íŒŒì¼ ê²½ë¡œ ë¬¸ì œ ë“± ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ì— ëŒ€í•œ ì¦‰ê°ì ì¸ í•´ê²° ë°©ë²• ì œì‹œ

**2. âš¡ ì‹œê°ì  í”¼ë“œë°± ê°•í™”**
- Rich ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œ ì»¬ëŸ¬í’€í•˜ê³  ì§ê´€ì ì¸ ë¡œê·¸ ì¶œë ¥ ì‹œìŠ¤í…œ
- ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œë¡œ ì‚¬ìš©ìê°€ ìŠ¤ìº” ì§„í–‰ ìƒí™©ì„ ëª…í™•íˆ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ê°œì„ 
- ë¡œê·¸ ë ˆë²¨ë³„ ìƒ‰ìƒ êµ¬ë¶„ìœ¼ë¡œ ì¤‘ìš”í•œ ì •ë³´ì™€ ì¼ë°˜ ì •ë³´ë¥¼ ì‰½ê²Œ êµ¬ë³„

**3. ğŸ’¾ ì„±ëŠ¥ ìµœì í™”**
- íŒŒì¼ í•´ì‹œ ê¸°ë°˜ ì§€ëŠ¥í˜• ìºì‹± ì‹œìŠ¤í…œìœ¼ë¡œ ë™ì¼í•œ ì„¤ì • íŒŒì¼ ì¬ìŠ¤ìº” ì‹œ ì¦‰ì‹œ ê²°ê³¼ ì œê³µ
- ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì‘ì—… ì œê±°ë¡œ ì „ì²´ ìŠ¤ìº” ì‹œê°„ 50% ì´ìƒ ë‹¨ì¶•
- ìºì‹œ ìƒíƒœ í‘œì‹œë¡œ ì‚¬ìš©ìê°€ ìºì‹œ í™œìš© í˜„í™©ì„ ì‰½ê²Œ í™•ì¸

**4. ğŸ”§ CLI ì‚¬ìš©ì„± ëŒ€í­ ê°œì„ **
- ì´ˆë³´ìë„ ì‰½ê²Œ ë”°ë¼í•  ìˆ˜ ìˆëŠ” ìƒì„¸í•œ ë„ì›€ë§ê³¼ ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ ì œê³µ
- ì¼ë°˜ì ì¸ ì˜¤ë¥˜ ìƒí™©ë³„ í•´ê²° ë°©ë²•ì„ í¬í•¨í•œ ìŠ¤ë§ˆíŠ¸ ì—ëŸ¬ ê°€ì´ë“œ
- ëª…ë ¹ì–´ ì˜µì…˜ì˜ ì§ê´€ì ì¸ ê·¸ë£¹í™” ë° ì„¤ëª…ìœ¼ë¡œ í•™ìŠµ ê³¡ì„  ì™„í™”

**5. ğŸ“Š í¬ê´„ì  ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œ**
- ìŠ¤ìº” ê²°ê³¼ë¥¼ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆëŠ” ì•„ë¦„ë‹¤ìš´ HTML ë¦¬í¬íŠ¸ ìë™ ìƒì„±
- ìœ„í—˜ë„ë³„ ë¶„ë¥˜ì™€ ê°œì„  ê¶Œì¥ì‚¬í•­ì„ í¬í•¨í•œ ì‹¤í–‰ ê°€ëŠ¥í•œ ë³´ì•ˆ ê°€ì´ë“œ ì œê³µ
- ê²½ì˜ì§„ì´ë‚˜ íŒ€ì¥ì—ê²Œ ë³´ê³ í•˜ê¸° ì í•©í•œ ì „ë¬¸ì ì¸ ìš”ì•½ ë¬¸ì„œ ìƒì„±

### ğŸŒŸ **í”„ë¡œì íŠ¸ì˜ ì°¨ë³„ì **

ê¸°ì¡´ì˜ ë³µì¡í•˜ê³  ê¸°ìˆ ì ì¸ ë³´ì•ˆ ë„êµ¬ì™€ ë‹¬ë¦¬, **ì¼ë°˜ ê°œë°œìë„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¹œê·¼í•œ ë„êµ¬**ë¡œ ë°œì „ì‹œí‚¤ëŠ” ê²ƒì´ ì´ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì‚¬ìš©ì ê²½í—˜(UX)ì„ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ì¢…í•©ì ì¸ ê°œì„ ì„ í†µí•´ MCP ë³´ì•ˆ ê´€ë¦¬ì˜ ì ‘ê·¼ì„±ì„ ë†’ì…ë‹ˆë‹¤.

### ğŸ‘¥ **ëŒ€ìƒ ì‚¬ìš©ì**

- **ì£¼ë‹ˆì–´ ê°œë°œì**: ë³µì¡í•œ ë³´ì•ˆ ì„¤ì • ì—†ì´ë„ ì‰½ê²Œ MCP ë³´ì•ˆ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ì‹¶ì€ ê°œë°œì
- **íŒ€ ë¦¬ë”**: íŒ€ì˜ MCP ì„œë²„ ë³´ì•ˆ í˜„í™©ì„ ì£¼ê¸°ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³  ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•´ì•¼ í•˜ëŠ” ë¦¬ë”
- **DevOps ì—”ì§€ë‹ˆì–´**: CI/CD íŒŒì´í”„ë¼ì¸ì— ë³´ì•ˆ ê²€ì‚¬ë¥¼ ìë™í™”í•˜ê³  ì‹¶ì€ ì—”ì§€ë‹ˆì–´
- **í”„ë¦¬ëœì„œ/1ì¸ ê°œë°œì**: ë³µì¡í•œ ë³´ì•ˆ ë„êµ¬ ì—†ì´ë„ ê¸°ë³¸ì ì¸ ë³´ì•ˆ ì ê²€ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ì€ ê°œë°œì

### ğŸ¯ **ì„±ê³µ ì§€í‘œ**

ì´ í”„ë¡œì íŠ¸ê°€ ì„±ê³µí–ˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆëŠ” ê¸°ì¤€:
- ì„¤ì • ì˜¤ë¥˜ ì‹œ í•´ê²° ì‹œê°„ì´ ê¸°ì¡´ ëŒ€ë¹„ 70% ë‹¨ì¶•
- ìŠ¤ìº” ê²°ê³¼ë¥¼ ì´í•´í•˜ê³  ì¡°ì¹˜í•˜ëŠ” ë° í•„ìš”í•œ ì‹œê°„ 50% ê°ì†Œ  
- ë°˜ë³µ ìŠ¤ìº” ì„±ëŠ¥ 50% ì´ìƒ í–¥ìƒ
- ë¹„ì „ë¬¸ê°€ë„ 5ë¶„ ì•ˆì— ê¸°ë³¸ ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ ì´í•´í•  ìˆ˜ ìˆìŒ

## Requirements

### ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
- **Python**: >= 3.10.0
- **Docker**: >= 20.10.0
- **ë©”ëª¨ë¦¬**: ìµœì†Œ 2GB RAM, ê¶Œì¥ 4GB+
- **ì €ì¥ê³µê°„**: ìºì‹± ë° ë¡œê·¸ìš© 1GB ì—¬ìœ  ê³µê°„

### í•µì‹¬ ì˜ì¡´ì„±
```
mcp[cli] >= 1.6.0          # Model Context Protocol CLI ë„êµ¬
requests >= 2.32.3         # API í˜¸ì¶œìš© HTTP ë¼ì´ë¸ŒëŸ¬ë¦¬
rich >= 14.0.0            # ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ë° ì•„ë¦„ë‹¤ìš´ í¬ë§·íŒ…
pyjson5 >= 1.6.8          # ì„¤ì • íŒŒì¼ìš© JSON5 íŒŒì„œ
pydantic >= 2.11.2        # ë°ì´í„° ê²€ì¦ ë° ì„¤ì • ê´€ë¦¬
lark-parser[regex] >= 0.12.0  # ë³´ì•ˆ ê·œì¹™ìš© ë¬¸ë²• íŒŒì‹±
```

### ê°œë°œ ì˜ì¡´ì„±
```
pytest >= 7.0.0           # í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬
pytest-asyncio >= 0.21.0  # ë¹„ë™ê¸° í…ŒìŠ¤íŒ… ì§€ì›
pytest-cov >= 4.0.0       # ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŒ…
black >= 23.0.0           # ì½”ë“œ í¬ë§·íŒ…
flake8 >= 6.0.0           # ë¦°íŒ… ë° ìŠ¤íƒ€ì¼ ê²€ì‚¬
bandit >= 1.7.5           # ë³´ì•ˆ ì·¨ì•½ì  ìŠ¤ìºë„ˆ
safety >= 2.3.0           # ì˜ì¡´ì„± ì·¨ì•½ì  ê²€ì‚¬ê¸°
```

### ë³´ì•ˆ ê°•í™” ë¼ì´ë¸ŒëŸ¬ë¦¬
```
cryptography >= 41.0.0    # ë³´ì•ˆ ê²€ì¦ìš© ì•”í˜¸í™” ì—°ì‚°
psutil >= 5.9.0          # ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ìš© ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
aiofiles >= 23.1.0       # ë¹„ë™ê¸° íŒŒì¼ ì—°ì‚°
aiosqlite >= 0.19.0      # ìºì‹±ìš© ë¹„ë™ê¸° SQLite
```

## How to install & Run

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
ì‹œìŠ¤í…œì— Dockerê°€ ì„¤ì¹˜ë˜ì–´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”:
```bash
docker --version  # Docker ë²„ì „ 20.10.0+ í‘œì‹œë˜ì–´ì•¼ í•¨
```

### 1ë‹¨ê³„: Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜

#### ë°©ë²• A: Docker Hubì—ì„œ ë‹¤ìš´ë¡œë“œ (ê¶Œì¥)
```bash
# ìµœì‹  ì•ˆì • ë²„ì „ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
docker pull coco1223/mcp-scan-security:latest

# ì´ë¯¸ì§€ í™•ì¸
docker images | grep mcp-scan-security
```

#### ë°©ë²• B: ì†ŒìŠ¤ì½”ë“œì—ì„œ ë¹Œë“œ
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/CoCo-1223/mcp-scan.git
cd mcp-scan

# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t coco1223/mcp-scan-security:latest -f Dockerfile .

# ë¹Œë“œ í™•ì¸
docker images | grep mcp-scan-security
```

### 2ë‹¨ê³„: Docker ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰

#### ê¸°ë³¸ ì»¨í…Œì´ë„ˆ ì„¤ì •
```bash
# ë³´ì•ˆ ê°•í™”ê°€ í¬í•¨ëœ ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰
docker run -it --name mcp-scan-security \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/config:/app/config \
  -v $(pwd)/logs:/app/logs \
  -p 8080:8080 \
  --security-opt=no-new-privileges \
  --read-only \
  --tmpfs /tmp \
  coco1223/mcp-scan-security:latest
```

#### ê³ ê¸‰ ì»¨í…Œì´ë„ˆ ì„¤ì • (í”„ë¡œë•ì…˜ìš©)
```bash
# ì „ìš© ë„¤íŠ¸ì›Œí¬ ìƒì„±
docker network create mcp-scan-network

# ê°•í™”ëœ ë³´ì•ˆ ë° ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ì‹¤í–‰
docker run -d --name mcp-scan-security \
  --network mcp-scan-network \
  -v mcp-scan-data:/app/data \
  -v mcp-scan-config:/app/config \
  -v mcp-scan-logs:/app/logs \
  -p 8080:8080 \
  --restart unless-stopped \
  --memory=4g \
  --cpus=2 \
  --security-opt=no-new-privileges \
  --read-only \
  --tmpfs /tmp:rw,size=1g \
  -e SECURITY_MODE=enhanced \
  -e LOG_LEVEL=INFO \
  coco1223/mcp-scan-security:latest
```

#### ê°œë°œìš© ì»¨í…Œì´ë„ˆ ì„¤ì •
```bash
# ê°œë°œ ëª¨ë“œë¡œ ì‹¤í–‰ (ì½”ë“œ ë³€ê²½ì‚¬í•­ ì‹¤ì‹œê°„ ë°˜ì˜)
docker run -it --name mcp-scan-dev \
  -v $(pwd):/app \
  -v mcp-scan-cache:/app/cache \
  -p 8080:8080 \
  -p 9229:9229 \
  -e DEVELOPMENT=true \
  -e DEBUG=true \
  coco1223/mcp-scan-security:latest bash
```

### 3ë‹¨ê³„: ë””ë ‰í† ë¦¬ êµ¬ì¡°

í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì²´ê³„ì ì¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```
mcp-scan/
â”œâ”€â”€ src/                    # ì†ŒìŠ¤ì½”ë“œ ë””ë ‰í† ë¦¬
â”‚   â””â”€â”€ mcp_scan/
â”‚       â”œâ”€â”€ cli.py         # CLI ì¸í„°í˜ì´ìŠ¤
â”‚       â”œâ”€â”€ MCPScanner.py  # ë©”ì¸ ìŠ¤ìºë„ˆ í´ë˜ìŠ¤
â”‚       â”œâ”€â”€ models.py      # ë°ì´í„° ëª¨ë¸
â”‚       â”œâ”€â”€ utils.py       # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚       â””â”€â”€ security/      # ë³´ì•ˆ ê°•í™” ëª¨ë“ˆ
â”‚           â”œâ”€â”€ validator.py      # ì…ë ¥ ê²€ì¦
â”‚           â”œâ”€â”€ circuit_breaker.py # Circuit Breaker
â”‚           â”œâ”€â”€ cache.py          # ìºì‹± ì‹œìŠ¤í…œ
â”‚           â””â”€â”€ audit_logger.py   # ê°ì‚¬ ë¡œê¹…
â”œâ”€â”€ tests/                  # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ test_security.py   # ë³´ì•ˆ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ test_scanner.py    # ìŠ¤ìºë„ˆ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ fixtures/          # í…ŒìŠ¤íŠ¸ ë°ì´í„°
â”œâ”€â”€ config/                 # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ security.yml       # ë³´ì•ˆ ì„¤ì •
â”‚   â”œâ”€â”€ cache.yml          # ìºì‹œ ì„¤ì •
â”‚   â””â”€â”€ logging.yml        # ë¡œê¹… ì„¤ì •
â”œâ”€â”€ data/                   # ë°ì´í„° ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ scans/             # ìŠ¤ìº” ê²°ê³¼
â”‚   â”œâ”€â”€ cache/             # ìºì‹œ íŒŒì¼
â”‚   â””â”€â”€ whitelists/        # í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
â”œâ”€â”€ logs/                   # ë¡œê·¸ íŒŒì¼
â”‚   â”œâ”€â”€ security.log       # ë³´ì•ˆ ì´ë²¤íŠ¸ ë¡œê·¸
â”‚   â”œâ”€â”€ application.log    # ì¼ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
â”‚   â””â”€â”€ audit/             # ê°ì‚¬ ë¡œê·¸
â”œâ”€â”€ docs/                   # ë¬¸ì„œ
â”‚   â”œâ”€â”€ security.md        # ë³´ì•ˆ ê°€ì´ë“œ
â”‚   â””â”€â”€ api.md             # API ë¬¸ì„œ
â”œâ”€â”€ scripts/                # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ setup.sh           # ì´ˆê¸° ì„¤ì •
â”‚   â””â”€â”€ backup.sh          # ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ Dockerfile             # Docker ë¹Œë“œ íŒŒì¼
â”œâ”€â”€ docker-compose.yml     # ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ ì„¤ì •
â”œâ”€â”€ pyproject.toml         # Python í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ requirements-dev.txt   # ê°œë°œ ì˜ì¡´ì„±
â””â”€â”€ README.md              # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

**ê° ë””ë ‰í† ë¦¬ì˜ ìš©ë„**:
- `src/`: ëª¨ë“  ì†ŒìŠ¤ì½”ë“œë¥¼ í¬í•¨í•˜ë©°, ëª¨ë“ˆë³„ë¡œ ì²´ê³„ì ìœ¼ë¡œ êµ¬ì„±
- `tests/`: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸, ë³´ì•ˆ í…ŒìŠ¤íŠ¸ë¥¼ í¬í•¨
- `config/`: í™˜ê²½ë³„ ì„¤ì • íŒŒì¼ë“¤ì„ YAML í˜•ì‹ìœ¼ë¡œ ê´€ë¦¬
- `data/`: ìŠ¤ìº” ê²°ê³¼, ìºì‹œ, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë“± ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„°
- `logs/`: êµ¬ì¡°í™”ëœ ë¡œê·¸ íŒŒì¼ë“¤ (ë³´ì•ˆ, ê°ì‚¬, ì¼ë°˜)

### 4ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

#### ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ê¸°ë³¸ ìŠ¤ìº” ì‹¤í–‰
```bash
# ì»¨í…Œì´ë„ˆì— ì ‘ì†
docker exec -it mcp-scan-security bash

# ê¸°ë³¸ MCP ìŠ¤ìº” ì‹¤í–‰
mcp-scan scan --security-enhanced

# íŠ¹ì • ì„¤ì • íŒŒì¼ ìŠ¤ìº”
mcp-scan scan /app/config/claude.json --verbose

# ë¡œì»¬ ì „ìš© ëª¨ë“œë¡œ ìŠ¤ìº” (ì™¸ë¶€ API ì‚¬ìš© ì•ˆí•¨)
mcp-scan scan --local-only --output-format json
```

#### ë³´ì•ˆ ê°•í™” ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
```bash
# ì…ë ¥ ê²€ì¦ í…ŒìŠ¤íŠ¸
python -m pytest tests/test_security.py::test_input_validation -v

# Circuit Breaker í…ŒìŠ¤íŠ¸
python -m pytest tests/test_security.py::test_circuit_breaker -v

# ì „ì²´ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python -m pytest tests/test_security.py -v --cov=src/mcp_scan/security
```

#### ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ë¡œê·¸ í™•ì¸
```bash
# ë³´ì•ˆ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f /app/logs/security.log

# ê°ì‚¬ ë¡œê·¸ í™•ì¸
cat /app/logs/audit/$(date +%Y-%m-%d).json | jq '.'

# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
curl http://localhost:8080/health
```

### 5ë‹¨ê³„: ì‹¤í–‰ ì¢…ë£Œ ë°©ë²•

#### ì •ìƒ ì¢…ë£Œ (Graceful Shutdown)
```bash
# ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ
# Ctrl+C ë˜ëŠ” SIGTERM ì‹œê·¸ë„ ì „ì†¡
kill -TERM $(pgrep -f mcp-scan)

# ì»¨í…Œì´ë„ˆ ì •ìƒ ì¢…ë£Œ
docker stop mcp-scan-security

# ì¢…ë£Œ ìƒíƒœ í™•ì¸
docker ps -a | grep mcp-scan-security
```

#### ê°•ì œ ì¢…ë£Œ ë° ì •ë¦¬
```bash
# ì»¨í…Œì´ë„ˆ ê°•ì œ ì¢…ë£Œ
docker kill mcp-scan-security

# ì»¨í…Œì´ë„ˆ ì œê±°
docker rm mcp-scan-security

# ì´ë¯¸ì§€ ì œê±° (í•„ìš”ì‹œ)
docker rmi coco1223/mcp-scan-security:latest

# ë³¼ë¥¨ ì •ë¦¬ (ì£¼ì˜: ë°ì´í„° ì†ì‹¤)
docker volume rm mcp-scan-data mcp-scan-config mcp-scan-logs
```

#### ì™„ì „ ì •ë¦¬ (ê°œë°œ í™˜ê²½)
```bash
# ëª¨ë“  ê´€ë ¨ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
docker-compose down -v --remove-orphans

# ë„¤íŠ¸ì›Œí¬ ì œê±°
docker network rm mcp-scan-network

# ë¹Œë“œ ìºì‹œ ì •ë¦¬
docker builder prune -f
```

#### ë°ì´í„° ë°±ì—… í›„ ì¢…ë£Œ
```bash
# ì¤‘ìš” ë°ì´í„° ë°±ì—…
docker exec mcp-scan-security /app/scripts/backup.sh

# ë°±ì—… íŒŒì¼ì„ í˜¸ìŠ¤íŠ¸ë¡œ ë³µì‚¬
docker cp mcp-scan-security:/app/backup/$(date +%Y%m%d).tar.gz ./

# ì•ˆì „í•˜ê²Œ ì¢…ë£Œ
docker stop mcp-scan-security
```

## ì‹¤í–‰ ì„±ê³µ í™•ì¸ ë°©ë²•

### í—¬ìŠ¤ ì²´í¬
```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ í™•ì¸
curl -f http://localhost:8080/health || echo "ì„œë¹„ìŠ¤ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹˜"

# ë³´ì•ˆ ê¸°ëŠ¥ ìƒíƒœ í™•ì¸
curl http://localhost:8080/security/status
```

### ë¡œê·¸ í™•ì¸
```bash
# ìµœê·¼ ë³´ì•ˆ ì´ë²¤íŠ¸ í™•ì¸
docker exec mcp-scan-security tail -20 /app/logs/security.log

# ì—ëŸ¬ ë¡œê·¸ í™•ì¸
docker logs mcp-scan-security --tail=50 | grep ERROR
```